(()=>{var e={};e.id=85,e.ids=[85],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},86783:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d});var a=r(70260),s=r(28203),n=r(25155),o=r.n(n),i=r(67292),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d=["",{children:["calendar",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,30073)),"/Users/blakemilam/Projects/whiskersNPaws/app/calendar/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,19611)),"/Users/blakemilam/Projects/whiskersNPaws/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/blakemilam/Projects/whiskersNPaws/app/calendar/page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/calendar/page",pathname:"/calendar",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},21188:(e,t,r)=>{Promise.resolve().then(r.bind(r,30073))},74340:(e,t,r)=>{Promise.resolve().then(r.bind(r,945))},945:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Y});var a=r(45512),s=r(58009),n=r(79334),o=r(51323),i=r(74167),l=r(74711),d=r(70510),c=r(462),p=r(82281),u=r(29107),m=r(49408),h=r(38716),v=r(94880),b=r(55249),f=r(50178),x=r(31137),g=r(88613);function A(e){return(0,g.Ay)("MuiFormControlLabel",e)}let y=(0,x.A)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]);var k=r(21110),P=r(33437);let S=e=>{let{classes:t,disabled:r,labelPlacement:a,error:s,required:n}=e,o={root:["root",r&&"disabled",`labelPlacement${(0,f.A)(a)}`,s&&"error",n&&"required"],label:["label",r&&"disabled"],asterisk:["asterisk",s&&"error"]};return(0,u.A)(o,A,t)},w=(0,h.Ay)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[{[`& .${y.label}`]:t.label},t.root,t[`labelPlacement${(0,f.A)(r.labelPlacement)}`]]}})((0,v.A)(({theme:e})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${y.disabled}`]:{cursor:"default"},[`& .${y.label}`]:{[`&.${y.disabled}`]:{color:(e.vars||e).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>"start"===e||"top"===e||"bottom"===e,style:{marginLeft:16}}]}))),j=(0,h.Ay)("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((0,v.A)(({theme:e})=>({[`&.${y.error}`]:{color:(e.vars||e).palette.error.main}}))),C=s.forwardRef(function(e,t){let r=(0,b.b)({props:e,name:"MuiFormControlLabel"}),{checked:n,className:o,componentsProps:l={},control:d,disabled:c,disableTypography:u,inputRef:h,label:v,labelPlacement:f="end",name:x,onChange:g,required:A,slots:y={},slotProps:C={},value:D,...R}=r,$=(0,m.A)(),O=c??d.props.disabled??$?.disabled,z=A??d.props.required,I={disabled:O,required:z};["checked","name","onChange","value","inputRef"].forEach(e=>{void 0===d.props[e]&&void 0!==r[e]&&(I[e]=r[e])});let N=(0,k.A)({props:r,muiFormControl:$,states:["error"]}),M={...r,disabled:O,labelPlacement:f,required:z,error:N.error},B=S(M),q={slots:y,slotProps:{...l,...C}},[_,F]=(0,P.A)("typography",{elementType:i.A,externalForwardedProps:q,ownerState:M}),E=v;return null==E||E.type===i.A||u||(E=(0,a.jsx)(_,{component:"span",...F,className:(0,p.A)(B.label,F?.className),children:E})),(0,a.jsxs)(w,{className:(0,p.A)(B.root,o),ownerState:M,ref:t,...R,children:[s.cloneElement(d,I),z?(0,a.jsxs)("div",{children:[E,(0,a.jsxs)(j,{ownerState:M,"aria-hidden":!0,className:B.asterisk,children:["â€‰","*"]})]}):E]})});var D=r(58242),R=r(10226),$=r(1264),O=r(40675);function z(e){return(0,g.Ay)("PrivateSwitchBase",e)}(0,x.A)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);let I=e=>{let{classes:t,checked:r,disabled:a,edge:s}=e,n={root:["root",r&&"checked",a&&"disabled",s&&`edge${(0,f.A)(s)}`],input:["input"]};return(0,u.A)(n,z,t)},N=(0,h.Ay)(O.A)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:t})=>"start"===e&&"small"!==t.size,style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:t})=>"end"===e&&"small"!==t.size,style:{marginRight:-12}}]}),M=(0,h.Ay)("input",{shouldForwardProp:R.A})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),B=s.forwardRef(function(e,t){let{autoFocus:r,checked:s,checkedIcon:n,className:o,defaultChecked:i,disabled:l,disableFocusRipple:d=!1,edge:c=!1,icon:u,id:h,inputProps:v,inputRef:b,name:f,onBlur:x,onChange:g,onFocus:A,readOnly:y,required:k=!1,tabIndex:P,type:S,value:w,...j}=e,[C,D]=(0,$.A)({controlled:s,default:!!i,name:"SwitchBase",state:"checked"}),R=(0,m.A)(),O=l;R&&void 0===O&&(O=R.disabled);let z="checkbox"===S||"radio"===S,B={...e,checked:C,disabled:O,disableFocusRipple:d,edge:c},q=I(B);return(0,a.jsxs)(N,{component:"span",className:(0,p.A)(q.root,o),centerRipple:!0,focusRipple:!d,disabled:O,tabIndex:null,role:void 0,onFocus:e=>{A&&A(e),R&&R.onFocus&&R.onFocus(e)},onBlur:e=>{x&&x(e),R&&R.onBlur&&R.onBlur(e)},ownerState:B,ref:t,...j,children:[(0,a.jsx)(M,{autoFocus:r,checked:s,defaultChecked:i,className:q.input,disabled:O,id:z?h:void 0,name:f,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;let t=e.target.checked;D(t),g&&g(e,t)},readOnly:y,ref:b,required:k,ownerState:B,tabIndex:P,type:S,..."checkbox"===S&&void 0===w?{}:{value:w},...v}),C?n:u]})});var q=r(64445);let _=(0,q.A)((0,a.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),F=(0,q.A)((0,a.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),E=(0,q.A)((0,a.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function L(e){return(0,g.Ay)("MuiCheckbox",e)}let G=(0,x.A)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]);var H=r(68640);let J=e=>{let{classes:t,indeterminate:r,color:a,size:s}=e,n={root:["root",r&&"indeterminate",`color${(0,f.A)(a)}`,`size${(0,f.A)(s)}`]},o=(0,u.A)(n,L,t);return{...t,...o}},T=(0,h.Ay)(B,{shouldForwardProp:e=>(0,R.A)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.indeterminate&&t.indeterminate,t[`size${(0,f.A)(r.size)}`],"default"!==r.color&&t[`color${(0,f.A)(r.color)}`]]}})((0,v.A)(({theme:e})=>({color:(e.vars||e).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,D.X4)(e.palette.action.active,e.palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter((0,H.A)()).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,D.X4)(e.palette[t].main,e.palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter((0,H.A)()).map(([t])=>({props:{color:t},style:{[`&.${G.checked}, &.${G.indeterminate}`]:{color:(e.vars||e).palette[t].main},[`&.${G.disabled}`]:{color:(e.vars||e).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),U=(0,a.jsx)(F,{}),V=(0,a.jsx)(_,{}),X=(0,a.jsx)(E,{}),K=s.forwardRef(function(e,t){let r=(0,b.b)({props:e,name:"MuiCheckbox"}),{checkedIcon:n=U,color:o="primary",icon:i=V,indeterminate:l=!1,indeterminateIcon:d=X,inputProps:c,size:u="medium",disableRipple:m=!1,className:h,...v}=r,f=l?d:i,x=l?d:n,g={...r,disableRipple:m,color:o,indeterminate:l,size:u},A=J(g);return(0,a.jsx)(T,{type:"checkbox",inputProps:{"data-indeterminate":l,...c},icon:s.cloneElement(f,{fontSize:f.props.fontSize??u}),checkedIcon:s.cloneElement(x,{fontSize:x.props.fontSize??u}),ownerState:g,ref:t,className:(0,p.A)(A.root,h),disableRipple:m,...v,classes:A})});var W=r(78381);function Y(){let[e,t]=(0,s.useState)([]),[r,p]=(0,s.useState)([]),[u,m]=(0,s.useState)([]),[h,v]=(0,s.useState)([]),[b,f]=(0,s.useState)(null),[x,g]=(0,s.useState)(null),[A,y]=(0,s.useState)([]),[k,P]=(0,s.useState)([]),[S,w]=(0,s.useState)(!1),[j,D]=(0,s.useState)(null),[R,$]=(0,s.useState)([]),O=(0,n.useRouter)();return(0,a.jsxs)(o.A,{sx:{p:4},children:[(0,a.jsx)(i.A,{variant:"h4",align:"center",gutterBottom:!0,children:"Book Your Pet Sitting Dates"}),j&&(0,a.jsx)(l.A,{severity:"error",children:j}),(0,a.jsx)(W.Ay,{onClickDay:t=>{f(t);let r=e.find(e=>new Date(e.startDate).toDateString()===t.toDateString());if(r){let e=r.details.find(e=>e.serviceId)?.serviceId||null,t=r.details.filter(e=>e.addOnId).map(e=>e.addOnId);g(e),y(t),P(r.pets.map(e=>e.id))}else g(null),y([]),P([]);D(t>=new Date?null:"Past reservations cannot be edited."),w(!0)},tileClassName:({date:t})=>e.find(e=>new Date(e.startDate).toDateString()===t.toDateString())?t<new Date?"past-reservation":"future-reservation":"",calendarType:"gregory"}),(0,a.jsx)(d.A,{variant:"contained",color:"primary",sx:{mt:4},onClick:()=>{let t=e.filter(e=>!R.some(t=>t.startDate===e.startDate&&t.service===e.service&&JSON.stringify(t.addOns)===JSON.stringify(e.addOns)&&JSON.stringify(t.pets)===JSON.stringify(e.pets)));if(0===t.length){D("No new reservations to check out.");return}localStorage.setItem("bookings",JSON.stringify(t)),O.push("/checkout")},disabled:0===e.length,children:"Checkout"}),(0,a.jsx)(c.A,{open:S,onClose:()=>w(!1),children:(0,a.jsxs)(o.A,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",p:4,borderRadius:2,width:400,boxShadow:24},children:[(0,a.jsxs)(i.A,{variant:"h6",gutterBottom:!0,children:["Reservation Details for ",b?.toDateString()]}),(0,a.jsx)(i.A,{variant:"h6",gutterBottom:!0,children:"Selected Service"}),r.map(e=>(0,a.jsx)(C,{control:(0,a.jsx)(K,{checked:x===e.id,onChange:()=>g(e.id),disabled:!!(b&&b<new Date)}),label:`${e.name} ($${e.basePricePerDay.toFixed(2)})`},e.id)),(0,a.jsx)(i.A,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"Selected Add-Ons"}),u.map(e=>(0,a.jsx)(C,{control:(0,a.jsx)(K,{checked:A.includes(e.id),onChange:()=>y(t=>t.includes(e.id)?t.filter(t=>t!==e.id):[...t,e.id]),disabled:!!(b&&b<new Date)}),label:`${e.name} ($${e.price.toFixed(2)})`},e.id)),(0,a.jsx)(i.A,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"Selected Pets"}),h.map(e=>(0,a.jsx)(C,{control:(0,a.jsx)(K,{checked:k.includes(e.id),onChange:()=>P(t=>t.includes(e.id)?t.filter(t=>t!==e.id):[...t,e.id]),disabled:!!(b&&b<new Date)}),label:e.name},e.id)),b&&b>=new Date&&(0,a.jsx)(d.A,{variant:"contained",color:"primary",sx:{mt:2},onClick:()=>{if(!b||!x||0===k.length){D("Please select a service and at least one pet.");return}let e=r.find(e=>e.id===x),a=A.reduce((e,t)=>{let r=u.find(e=>e.id===t);return e+(r?.price||0)},0),s=(e?.basePricePerDay||0)+a,n=[{id:Math.random(),reservationId:0,serviceId:x,addOnId:null,price:e?.basePricePerDay||0,quantity:1},...A.map(e=>{let t=u.find(t=>t.id===e);return{id:Math.random(),reservationId:0,serviceId:"",addOnId:e,price:t?.price||0,quantity:1}})],o={startDate:b.toISOString(),service:x,addOns:A,pets:k.map(e=>h.find(t=>t.id===e)),totalCost:s,details:n};t(e=>{let t=e.findIndex(e=>new Date(e.startDate).toISOString()===o.startDate);if(-1!==t){let r=[...e];return r[t]=o,r}return[...e,o]}),w(!1),D(null)},children:"Save Changes"})]})})]})}r(32981),r(1538)},64500:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=r(58009).createContext(void 0)},21110:(e,t,r)=>{"use strict";function a({props:e,states:t,muiFormControl:r}){return t.reduce((t,a)=>(t[a]=e[a],r&&void 0===e[a]&&(t[a]=r[a]),t),{})}r.d(t,{A:()=>a})},49408:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(58009),s=r(64500);function n(){return a.useContext(s.A)}},1264:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(58009);let s=function({controlled:e,default:t,name:r,state:s="value"}){let{current:n}=a.useRef(void 0!==e),[o,i]=a.useState(t),l=a.useCallback(e=>{n||i(e)},[]);return[n?e:o,l]}},79334:(e,t,r)=>{"use strict";var a=r(58686);r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},30073:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/blakemilam/Projects/whiskersNPaws/app/calendar/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/blakemilam/Projects/whiskersNPaws/app/calendar/page.tsx","default")},1538:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[638,670,77,265,42],()=>r(86783));module.exports=a})();