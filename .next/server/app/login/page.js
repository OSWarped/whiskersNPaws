(()=>{var e={};e.id=520,e.ids=[520],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},49775:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>s.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var o=t(70260),n=t(28203),i=t(25155),s=t.n(i),a=t(67292),l={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);t.d(r,l);let c=["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,43642)),"/Users/blakemilam/Projects/whiskersNPaws/app/login/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,19611)),"/Users/blakemilam/Projects/whiskersNPaws/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/blakemilam/Projects/whiskersNPaws/app/login/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},p=new o.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},13407:(e,r,t)=>{Promise.resolve().then(t.bind(t,43642))},73655:(e,r,t)=>{Promise.resolve().then(t.bind(t,74014))},74014:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>m});var o=t(45512),n=t(25998),i=t(58009),s=t(51323),a=t(74167),l=t(74711),c=t(48481),d=t(70510),u=t(74016),p=t(79334);function m(){let[e,r]=(0,i.useState)(""),[t,m]=(0,i.useState)(""),[f,h]=(0,i.useState)(""),[v,g]=(0,i.useState)(!1),x=(0,p.useRouter)(),k=async()=>{h(""),g(!0);try{let r=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!r.ok){let e=await r.json();h(e.message||"Login failed."),g(!1);return}let o=await r.json();console.log("Login API Response:",o),o.token?(n.A.set("authToken",o.token,{expires:1}),localStorage.setItem("jwt",o.token),console.log("Token saved to cookie and localStorage:",o.token),x.push("/dashboard")):h("Login response missing token.")}catch(e){console.error("Error during login:",e),h("An unexpected error occurred. Please try again.")}finally{g(!1)}};return(0,o.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",bgcolor:"#f5f5f5"},children:[(0,o.jsx)(a.A,{variant:"h4",gutterBottom:!0,children:"Log In"}),(0,o.jsxs)(s.A,{sx:{width:300},children:[f&&(0,o.jsx)(l.A,{severity:"error",sx:{mb:2},children:f}),(0,o.jsx)(c.A,{fullWidth:!0,label:"Email",variant:"outlined",margin:"normal",value:e,onChange:e=>r(e.target.value)}),(0,o.jsx)(c.A,{fullWidth:!0,label:"Password",type:"password",variant:"outlined",margin:"normal",value:t,onChange:e=>m(e.target.value)}),(0,o.jsx)(d.A,{fullWidth:!0,variant:"contained",color:"primary",sx:{mt:2},onClick:k,disabled:v,children:v?(0,o.jsx)(u.A,{size:24,sx:{color:"white"}}):"Log In"})]})]})}},74016:(e,r,t)=>{"use strict";t.d(r,{A:()=>A});var o=t(58009),n=t(82281),i=t(29107),s=t(71667),a=t(38716),l=t(94880),c=t(55249),d=t(50178),u=t(68640),p=t(31137),m=t(88613);function f(e){return(0,m.Ay)("MuiCircularProgress",e)}(0,p.A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var h=t(45512);let v=(0,s.i7)`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,g=(0,s.i7)`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`,x="string"!=typeof v?(0,s.AH)`
        animation: ${v} 1.4s linear infinite;
      `:null,k="string"!=typeof g?(0,s.AH)`
        animation: ${g} 1.4s ease-in-out infinite;
      `:null,y=e=>{let{classes:r,variant:t,color:o,disableShrink:n}=e,s={root:["root",t,`color${(0,d.A)(o)}`],svg:["svg"],circle:["circle",`circle${(0,d.A)(t)}`,n&&"circleDisableShrink"]};return(0,i.A)(s,f,r)},b=(0,a.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,r)=>{let{ownerState:t}=e;return[r.root,r[t.variant],r[`color${(0,d.A)(t.color)}`]]}})((0,l.A)(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:x||{animation:`${v} 1.4s linear infinite`}},...Object.entries(e.palette).filter((0,u.A)()).map(([r])=>({props:{color:r},style:{color:(e.vars||e).palette[r].main}}))]}))),w=(0,a.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,r)=>r.svg})({display:"block"}),P=(0,a.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,r)=>{let{ownerState:t}=e;return[r.circle,r[`circle${(0,d.A)(t.variant)}`],t.disableShrink&&r.circleDisableShrink]}})((0,l.A)(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>"indeterminate"===e.variant&&!e.disableShrink,style:k||{animation:`${g} 1.4s ease-in-out infinite`}}]}))),A=o.forwardRef(function(e,r){let t=(0,c.b)({props:e,name:"MuiCircularProgress"}),{className:o,color:i="primary",disableShrink:s=!1,size:a=40,style:l,thickness:d=3.6,value:u=0,variant:p="indeterminate",...m}=t,f={...t,color:i,disableShrink:s,size:a,thickness:d,value:u,variant:p},v=y(f),g={},x={},k={};if("determinate"===p){let e=2*Math.PI*((44-d)/2);g.strokeDasharray=e.toFixed(3),k["aria-valuenow"]=Math.round(u),g.strokeDashoffset=`${((100-u)/100*e).toFixed(3)}px`,x.transform="rotate(-90deg)"}return(0,h.jsx)(b,{className:(0,n.A)(v.root,o),style:{width:a,height:a,...x,...l},ownerState:f,ref:r,role:"progressbar",...k,...m,children:(0,h.jsx)(w,{className:v.svg,ownerState:f,viewBox:"22 22 44 44",children:(0,h.jsx)(P,{className:v.circle,style:g,ownerState:f,cx:44,cy:44,r:(44-d)/2,fill:"none",strokeWidth:d})})})})},79334:(e,r,t)=>{"use strict";var o=t(58686);t.o(o,"useRouter")&&t.d(r,{useRouter:function(){return o.useRouter}})},43642:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});let o=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/blakemilam/Projects/whiskersNPaws/app/login/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/blakemilam/Projects/whiskersNPaws/app/login/page.tsx","default")},25998:(e,r,t)=>{"use strict";function o(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)e[o]=t[o]}return e}t.d(r,{A:()=>n});var n=function e(r,t){function n(e,n,i){if("undefined"!=typeof document){"number"==typeof(i=o({},t,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var a in i)i[a]&&(s+="; "+a,!0!==i[a]&&(s+="="+i[a].split(";")[0]));return document.cookie=e+"="+r.write(n,e)+s}}return Object.create({set:n,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],o={},n=0;n<t.length;n++){var i=t[n].split("="),s=i.slice(1).join("=");try{var a=decodeURIComponent(i[0]);if(o[a]=r.read(s,a),e===a)break}catch(e){}}return e?o[e]:o}},remove:function(e,r){n(e,"",o({},r,{expires:-1}))},withAttributes:function(r){return e(this.converter,o({},this.attributes,r))},withConverter:function(r){return e(o({},this.converter,r),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(r)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[638,670,77,481,42],()=>t(49775));module.exports=o})();